# Telegram Favorites Backup System

Простая система для бэкапа избранных сообщений из Telegram на Google Drive через Google Таблицы.

## Общее описание

Данное решение позволяет пользователям легко создавать резервные копии файлов из избранного Telegram (Сохраненные сообщения). Система использует:

1. **Telegram бота** — для получения пересланных сообщений
2. **Google Apps Script** — для обработки данных и сохранения файлов
3. **Google Drive** — для хранения файлов в структурированном виде

## Как это работает

1. Пользователь пересылает избранные сообщения с файлами своему Telegram боту
2. Открывает Google Таблицу и нажимает кнопку "Сделать бэкап" в меню
3. Скрипт:
   - Получает сообщения от бота
   - Скачивает файлы
   - Сортирует их по типам (фото, видео, документы)
   - Сохраняет в соответствующие папки на Google Drive
   - Создает лог операций в таблице

## Преимущества

- **Простота использования** — минимум действий для создания бэкапа
- **Без промежуточных серверов** — прямое взаимодействие между Google и Telegram
- **Структурированное хранение** — файлы организованы по типам
- **Подробное логирование** — все операции записываются в таблицу

## Ограничения

- Обрабатывается до 30 файлов за один запуск
- Google Apps Script имеет ограничение времени выполнения в 6 минут
- Нет автоматического бэкапа по расписанию (требуется ручной запуск)

## Настройка и использование

Для настройки и использования системы, пожалуйста, следуйте инструкциям:

1. Создайте бота в Telegram (через BotFather)
2. Настройте скрипт Google Apps Script в вашей таблице
3. Запустите первоначальную настройку для создания структуры папок
4. Пересылайте избранные сообщения боту
5. Запускайте бэкап через меню в Google Таблицах

Подробная инструкция содержится в файле [SETUP.md](SETUP.md).

## Технические детали

Система построена на базе официальных API:

- Telegram Bot API — для получения сообщений
- Google Drive API — для работы с файлами
- Google Sheets API — для логирования операций

Код написан на JavaScript (Google Apps Script) и не требует дополнительных библиотек или зависимостей.
